{% extends "lucyDJ/base.html" %}
{% load calcfilters %}
{% block content %}
<h1> Беспорядочная куча мусора от работы модели</h1>

<div class="buttonpanel">
        {{ form.parameters.items }}
    <form action="" method="get">
        {% for field in form%}
        <label style="top: {{ forloop.counter|mul:5 }}%"> {{ field.label }}</label>
        {{ field }}
        {% endfor %}
    </form>
</div>

<p style="backgroud: #fa0000; top: 50%; left: 75%"> {{ graph_y }} </p>

<div class="rubberblock" style="top: 53.75%">
    <div class="rubberblock-inner">
        <table>
            <thead>
                <tr>
                    {% for key in lines|first %}
                    <td> {{ key }} </td>
                    {% endfor %}
                </tr>
            </thead>
            {% for line in lines %}
            <tr>
                {% for key, value in line.items %}
                <td> {{ value }} </td>
                {% endfor %}
            </tr>
            {% endfor %}
        </table>
    </div>
</div>

<script>
$(function () {
    $('#container').highcharts({
        chart: {
            type: 'scatter',
            zoomType: 'xy'
        },
        title: {
            text: 'TEST GRAPH'
        },
        xAxis: {
            title: {
                text: 'ordinate'
            }
        },
        yAxis: {
            title: {
                text: 'abscissa'
            }
        },
        plotOptions: {
            scatter: {
                marker: {
                    radius: 1.0
                },
                color: '#fa0000',
                lineWidth: 0.5
            }
        },
        series: [{
            name: 'Data pull',
            data:
                [{% for line in lines %}
            [{{ line.abscissa }}, {{ line.ordinate}}],
            {% endfor %}]
        }]
    });
});
</script>

<div id="container" class="rubberblock"> </div>

{% endblock %}

