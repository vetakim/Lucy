{% extends "lucyDJ/base.html" %}
{% block content %}
<h1> Беспорядочная куча мусора от работы модели</h1>

<div class="buttonpanel">
    <form action="" method="get">
        <label for="id_amplitude" style="top: 10%"> Amplitude: </label>
        {{ form.amplitude }}
        <label for="id_samples" style="top: 15%"> Samples: </label>
        {{ form.samples }}
        <input type="submit" value="Apply" style="top: 20%">
        {{ form.toclear}}
    </form>
    <button style="top: 45%" id="launch"> Launch </button>
    <button style="top: 55%" id="show_graph"> Show graph</button>
    <input style="top: 65%" id="request" type=number>
    <button style="top: 70%"id="filter"> Filter </button>
</div>

<script>
$(function () {
var amp = {{ amplitude }}
var te = "Amplitude = " + amp.toString();
    $('#container').highcharts({
        chart: {
            type: 'scatter',
            zoomType: 'xy'
        },
        title: {
            text: te
        },
        xAxis: {
            title: {
                text: 'phase'
            }
        },
        yAxis: {
            title: {
                text: 'Values'
            }
        },
        plotOptions: {
            scatter: {
                marker: {
                    radius: 1.0
                },
                color: '#fa0000',
                lineWidth: 0.5
            }
        },
        series: [{
            name: 'Data pull',
            data:
                [{% for line in lines %}
            [{{ line.abscissa }}, {{ line.ordinate }}],
            {% endfor %}]
        }]
    });
});
</script>

<div id="container" class="rubberblock"> </div>

<div class="rubberblock" style="top: 53.75%">
    <div class="rubberblock-inner">
        <table>
            <thead>
                <tr>
                    {% for key in lines|first %}
                    <td> {{ key }} </td>
                    {% endfor %}
                </tr>
            </thead>
            {% for line in lines %}
            <tr>
                {% for key, value in line.items %}
                <td> {{ value }} </td>
                {% endfor %}
            </tr>
            {% endfor %}
        </table>
    </div>
</div>


{% endblock %}

